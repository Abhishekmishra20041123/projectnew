<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery Navigation Fix Instructions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        pre {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        .highlight {
            background-color: #ffff99;
            padding: 2px 4px;
        }
        .steps {
            margin-top: 20px;
            counter-reset: step-counter;
        }
        .step {
            margin-bottom: 20px;
            padding-left: 40px;
            position: relative;
        }
        .step::before {
            content: counter(step-counter);
            counter-increment: step-counter;
            position: absolute;
            left: 0;
            top: 0;
            background-color: #007bff;
            color: white;
            font-weight: bold;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <h1>Gallery Navigation Fix Instructions</h1>
    
    <p>This guide will help you fix the issues with the image gallery navigation, including:</p>
    <ul>
        <li>Making the navigation buttons more visible</li>
        <li>Ensuring the clicked image is displayed in the modal</li>
        <li>Fixing the photo count display</li>
    </ul>
    
    <h2>Fix Implementation</h2>
    
    <div class="steps">
        <div class="step">
            <h3>Include the JavaScript Fix</h3>
            <p>I've created a JavaScript file called <code>gallery-navigation-fix.js</code> in the <code>public/js</code> directory.</p>
            <p>To include this file, add the following script tag near the end of the <code>show.ejs</code> file, just before the closing <code>&lt;/body&gt;</code> tag:</p>
            <pre>&lt;!-- Include gallery navigation fix --&gt;
&lt;script src="/js/gallery-navigation-fix.js"&gt;&lt;/script&gt;</pre>
        </div>
        
        <div class="step">
            <h3>Edit the Navigation Buttons in the Modal</h3>
            <p>Find the section in <code>show.ejs</code> that contains the image modal, and update the navigation button code to match the following:</p>
            <pre>&lt;!-- Navigation buttons with larger clickable area and improved visibility --&gt;
&lt;div class="position-absolute top-50 start-0 translate-middle-y" 
     style="width: 100px; height: 100px; cursor: pointer; z-index: 1050;" onclick="previousImage()"&gt;
    &lt;div class="bg-dark bg-opacity-75 rounded-circle d-flex align-items-center justify-content-center"
         style="width: 60px; height: 60px; margin-left: 20px; transition: all 0.2s ease;"&gt;
        &lt;i class="bi bi-chevron-left text-white fs-1"&gt;&lt;/i&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class="position-absolute top-50 end-0 translate-middle-y" 
     style="width: 100px; height: 100px; cursor: pointer; z-index: 1050;" onclick="nextImage()"&gt;
    &lt;div class="bg-dark bg-opacity-75 rounded-circle d-flex align-items-center justify-content-center"
         style="width: 60px; height: 60px; margin-right: 20px; transition: all 0.2s ease;"&gt;
        &lt;i class="bi bi-chevron-right text-white fs-1"&gt;&lt;/i&gt;
    &lt;/div&gt;
&lt;/div&gt;</pre>
        </div>
        
        <div class="step">
            <h3>Fix the "+X More" Display</h3>
            <p>Find the section in <code>show.ejs</code> that shows the "+X more" button and ensure it correctly calculates the number of additional images:</p>
            <pre>&lt;!-- Show "View all" button if there are more than 4 additional images --&gt;
&lt;% if(listdata.additionalImages.length &gt; 4) { %&gt;
    &lt;div class="position-relative"&gt;
        &lt;button class="btn btn-outline-light position-absolute"
                style="bottom: 15px; right: 15px; z-index: 10;"
                onclick="openAllImagesModal()"&gt;
            &lt;i class="bi bi-grid-3x3"&gt;&lt;/i&gt; +&lt;%= listdata.additionalImages.length - 4 %&gt; more
        &lt;/button&gt;
    &lt;/div&gt;
&lt;% } %&gt;</pre>
        </div>
    </div>
    
    <h2>Alternative Approach</h2>
    <p>If you prefer a simpler approach, you can just include the JavaScript fix file without modifying the HTML:</p>
    <pre>&lt;!-- Include gallery navigation fix --&gt;
&lt;script src="/js/gallery-navigation-fix.js"&gt;&lt;/script&gt;</pre>
    <p>This will automatically apply all the necessary fixes without requiring HTML changes.</p>
    
    <h2>Testing</h2>
    <p>After implementing the fix, test the following scenarios:</p>
    <ol>
        <li>Click on the main image - it should open the modal showing the main image</li>
        <li>Click on one of the additional images - it should open the modal showing that specific image</li>
        <li>Check the "View all photos" button - it should show the correct total number of photos</li>
        <li>Check the "+X more" button - it should show the correct number of additional images beyond the first 4</li>
        <li>Test the navigation buttons in the modal - they should be clearly visible and work correctly</li>
        <li>Test keyboard navigation - left and right arrow keys should navigate through the images</li>
    </ol>
</body>
</html>